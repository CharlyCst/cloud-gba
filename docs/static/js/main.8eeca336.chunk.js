(this["webpackJsonpcloud-gba"]=this["webpackJsonpcloud-gba"]||[]).push([[0],{18:function(n,t,e){},21:function(n,t,e){"use strict";e.r(t);var c=e(0),o=e(1),r=e.n(o),i=e(9),u=e.n(i),a=(e(18),e(2)),s=e(4),l=e(3);function d(){var n=Object(a.a)(["\n  image-rendering: optimizeSpeed;\n  image-rendering: -moz-crisp-edges;\n  image-rendering: -webkit-optimize-contrast;\n  image-rendering: optimize-contrast;\n  -ms-interpolation-mode: nearest-neighbor;\n"]);return d=function(){return n},n}function f(){var n=Object(a.a)(["\n  max-width: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  min-height: ","px;\n  background-color: #1c1c24;\n  border-radius: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return n},n}function h(){var n=Object(a.a)(["\n  ","\n"]);return h=function(){return n},n}var j=240,b=160,p=32;var x,v=function(n){var t=Object(o.useRef)(null),e=Object(o.useRef)(null),r=Object(o.useState)(1),i=Object(s.a)(r,2),u=i[0],a=i[1];return Object(o.useEffect)((function(){if(n.ws)n.ws.onmessage=function(n){if(t&&t.current){var e=new Blob([n.data],{type:"image/jpeg"}),c=document.createElement("img"),o=(window.URL||window.webkitURL).createObjectURL(e),r=t.current.getContext("2d");r&&(r.imageSmoothingEnabled=!1,c.onload=function(){null===r||void 0===r||r.drawImage(c,0,0,j*u,b*u)},c.src=o)}};else if(t.current){var e=t.current.getContext("2d");e&&(e.fillStyle="#c8cad5",e.fillRect(0,0,j*u,b*u))}}),[t,u,n.ws]),Object(o.useEffect)((function(){if(e&&e.current){var n=e.current.offsetWidth,t=e.current.offsetHeight;console.log(t,n),n>=992&&t>=672?a(4):n>=512&&t>=352&&a(2)}}),[e]),Object(c.jsx)(w,{ref:e,fullScreen:n.fullScreen,children:Object(c.jsx)(O,{zoom:u,children:Object(c.jsx)(g,{width:j*u,height:b*u,ref:t})})})},w=l.a.div(h(),(function(n){return n.fullScreen?"width: 100vw;\n        height: 100vh;\n        display: flex;\n        justify-content: center;\n        align-items: center;":""})),O=l.a.div(f(),(function(n){return n.zoom*j+p}),(function(n){return n.zoom*j+p}),(function(n){return n.zoom*b+p}),(function(n){return n.zoom*b+p})),g=l.a.canvas(d());function m(){var n=Object(a.a)(["\n  background-color: #c8cad5;\n  height: ","px;\n  width: ","px;\n  border-radius: ","px;\n  border: 0;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  top: ",";\n  left: ",";\n\n  span {\n    margin: auto;\n  }\n\n  :active {\n    filter: brightness(85%);\n  }\n"]);return m=function(){return n},n}function y(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: relative;\n"]);return y=function(){return n},n}!function(n){n[n.A=0]="A",n[n.B=1]="B",n[n.select=2]="select",n[n.start=3]="start",n[n.right=4]="right",n[n.left=5]="left",n[n.up=6]="up",n[n.down=7]="down",n[n.R=8]="R",n[n.L=9]="L"}(x||(x={}));var S,k=function(n){var t=function(t,e){return function(){n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}},e=function(t,e){return function(c){c.preventDefault(),n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}};return Object(c.jsxs)(D,{children:[Object(c.jsx)(U,{kind:S.a,onUp:t(x.A,!0),onDown:t(x.A,!1),onTouchDown:e(x.A,!0),onTouchUp:e(x.A,!1)}),Object(c.jsx)(U,{kind:S.b,onUp:t(x.B,!0),onDown:t(x.B,!1),onTouchDown:e(x.B,!0),onTouchUp:e(x.B,!1)})]})},T=40,C=24;!function(n){n.a="A",n.b="B"}(S||(S={}));var D=l.a.div(y(),128,128);function U(n){return Object(c.jsx)(M,{kind:n.kind,onMouseDown:n.onDown,onMouseUp:n.onUp,onTouchStart:n.onTouchDown,onTouchEnd:n.onTouchUp,children:Object(c.jsx)("span",{children:n.kind})})}var M=l.a.div(m(),T,T,T,(function(n){return n.kind===S.a?"".concat(C,"px"):"".concat(64,"px")}),(function(n){return n.kind===S.a?"".concat(64,"px"):"".concat(C,"px")}));function B(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  ","\n  top: ","px;\n"]);return B=function(){return n},n}function E(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  ","\n  left: ","px;\n"]);return E=function(){return n},n}function L(){var n=Object(a.a)(["\n  :active {\n    filter: brightness(85%);\n  }\n"]);return L=function(){return n},n}function z(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n"]);return z=function(){return n},n}function A(){var n=Object(a.a)(["\n  background-color: #c8cad5;\n"]);return A=function(){return n},n}function R(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: relative;\n"]);return R=function(){return n},n}var W=32,F=48;var I=function(n){var t=function(t,e){return function(){n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}},e=function(t,e){return function(c){c.preventDefault(),n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}};return Object(c.jsxs)(J,{children:[Object(c.jsx)(N,{isTop:!0,onMouseUp:t(x.up,!0),onMouseDown:t(x.up,!1),onTouchStart:e(x.up,!1),onTouchEnd:e(x.up,!0)}),Object(c.jsx)(N,{isTop:!1,onMouseUp:t(x.down,!0),onMouseDown:t(x.down,!1),onTouchStart:e(x.down,!1),onTouchEnd:e(x.down,!0)}),Object(c.jsx)(q,{isLeft:!0,onMouseUp:t(x.left,!0),onMouseDown:t(x.left,!1),onTouchStart:e(x.left,!1),onTouchEnd:e(x.left,!0)}),Object(c.jsx)(q,{isLeft:!1,onMouseUp:t(x.right,!0),onMouseDown:t(x.right,!1),onTouchStart:e(x.right,!1),onTouchEnd:e(x.right,!0)}),Object(c.jsx)(G,{})]})},J=l.a.div(R(),128,128),P=l.a.div(A()),G=Object(l.a)(P)(z(),W,W,F,F),H=Object(l.a)(P)(L()),N=Object(l.a)(H)(E(),F,W,(function(n){return n.isTop?"\n      top: O;\n      border-radius: ".concat(8,"px ").concat(8,"px 0 0;\n      "):"\n      bottom: 0;\n      border-radius: 0 0 ".concat(8,"px ").concat(8,"px;\n      ")}),F),q=Object(l.a)(H)(B(),W,F,(function(n){return n.isLeft?"\n        left: O;\n        border-radius:  ".concat(8,"px 0 0 ").concat(8,"px;\n        "):"\n      right: 0;\n      border-radius: 0 ".concat(8,"px ").concat(8,"px 0;\n      ")}),F);function K(){var n=Object(a.a)(["\n  margin-top: 20px;\n  display: flex;\n"]);return K=function(){return n},n}function Q(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Q=function(){return n},n}var V=function(n){return Object(c.jsxs)(X,{children:[Object(c.jsx)(v,{ws:n.screenWs,fullScreen:!1}),Object(c.jsxs)(Y,{children:[Object(c.jsx)(I,{ws:n.inputWs}),Object(c.jsx)(k,{ws:n.inputWs})]})]})},X=l.a.div(Q()),Y=l.a.div(K());function Z(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Z=function(){return n},n}var $=function(n){return Object(c.jsx)(_,{children:Object(c.jsx)(v,{ws:n.ws,fullScreen:!0})})},_=l.a.div(Z());function nn(){var n=Object(a.a)(["\n  margin: 8px;\n"]);return nn=function(){return n},n}function tn(){var n=Object(a.a)(["\n  margin: 32px;\n"]);return tn=function(){return n},n}var en,cn=function(n){var t=Object(o.useState)("206.189.62.12:8100"),e=Object(s.a)(t,2),r=e[0],i=e[1],u=function(n,t){var e=new WebSocket("ws://".concat(n));return e.binaryType="arraybuffer",e.onopen=function(){console.log("Conn open"),e.send(t)},e.onerror=function(n){console.log(n)},e.onclose=function(){console.log("Conn closed")},e};return Object(c.jsxs)(on,{children:[Object(c.jsx)(rn,{type:"text",value:r,onChange:function(n){return i(n.target.value)}}),Object(c.jsx)("button",{onClick:function(){return function(t){var e=null,c=null;"screen"!==n.type&&"both"!==n.type||(e=u(t,"screen")),"input"!==n.type&&"both"!==n.type||(c=u(t,"input")),n.onConnection(e,c)}(r)},children:"Connect"})]})},on=l.a.div(tn()),rn=l.a.input(nn());function un(){var n=Object(a.a)(["\n  text-align: center;\n  width: 160px;\n  background-color: #423c6c;\n  margin: 1rem;\n  padding: 0.5rem 2rem;\n  border-radius: 16px;\n  color: #bbbdcb;\n  cursor: pointer;\n"]);return un=function(){return n},n}function an(){var n=Object(a.a)(["\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  background-color: ",";\n  margin: auto;\n  ","\n"]);return an=function(){return n},n}function sn(){var n=Object(a.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return sn=function(){return n},n}function ln(){var n=Object(a.a)([""]);return ln=function(){return n},n}!function(n){n[n.choice=0]="choice",n[n.full=1]="full",n[n.screen=2]="screen",n[n.input=3]="input"}(en||(en={}));var dn=function(n){var t=function(t){return function(){n.choose(t)}};return Object(c.jsxs)(hn,{children:[Object(c.jsx)(fn,{text:"Screen + gamepad",selected:n.choice===en.full,onSelect:t(en.full)}),Object(c.jsx)(fn,{text:"Screen only",selected:n.choice===en.screen,onSelect:t(en.screen)}),Object(c.jsx)(fn,{text:"Gamepad only",selected:n.choice===en.input,onSelect:t(en.input)})]})};function fn(n){return Object(c.jsxs)(jn,{children:[Object(c.jsx)(bn,{selected:n.selected}),Object(c.jsx)(pn,{onClick:n.onSelect,children:n.text})]})}var hn=l.a.div(ln()),jn=l.a.div(sn()),bn=l.a.div(an(),(function(n){return n.selected?"#32b532":"#d0d3db"}),(function(n){return n.selected?"box-shadow: 0 0 16px #32b532;":""})),pn=l.a.div(un());function xn(){var n=Object(a.a)(["\n  margin-top: 20px;\n  display: flex;\n"]);return xn=function(){return n},n}function vn(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return vn=function(){return n},n}var wn=function(n){var t=Object(o.useState)(en.full),e=Object(s.a)(t,2),r=e[0],i=e[1];return Object(c.jsxs)(On,{children:[Object(c.jsx)(cn,{onConnection:function(t,e){return n.choose(t,e,r)},type:"both"}),Object(c.jsx)(dn,{choose:function(n){return i(n)},choice:r})]})},On=l.a.div(vn());l.a.div(xn());function gn(){var n=Object(a.a)(["\n  width: 100vw;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-around;\n"]);return gn=function(){return n},n}function mn(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return mn=function(){return n},n}var yn=function(n){return Object(c.jsx)(Sn,{children:Object(c.jsxs)(kn,{children:[Object(c.jsx)(I,{ws:n.ws}),Object(c.jsx)(k,{ws:n.ws})]})})},Sn=l.a.div(mn()),kn=l.a.div(gn());function Tn(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  background-color: #675ea7;\n"]);return Tn=function(){return n},n}var Cn=function(){var n=Object(o.useState)(en.choice),t=Object(s.a)(n,2),e=t[0],r=t[1],i=Object(o.useState)(null),u=Object(s.a)(i,2),a=u[0],l=u[1],d=Object(o.useState)(null),f=Object(s.a)(d,2),h=f[0],j=f[1],b=null;switch(e){case en.choice:b=Object(c.jsx)(wn,{choose:function(n,t,e){l(n),j(t),r(e)}});break;case en.screen:b=Object(c.jsx)($,{ws:a});break;case en.full:b=Object(c.jsx)(V,{inputWs:h,screenWs:a});break;case en.input:b=Object(c.jsx)(yn,{ws:h})}return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(Dn,{children:b})})},Dn=l.a.div(Tn()),Un=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,22)).then((function(t){var e=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;e(n),c(n),o(n),r(n),i(n)}))};u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Cn,{})}),document.getElementById("root")),Un()}},[[21,1,2]]]);
//# sourceMappingURL=main.8eeca336.chunk.js.map