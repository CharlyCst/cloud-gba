(this["webpackJsonpcloud-gba"]=this["webpackJsonpcloud-gba"]||[]).push([[0],{18:function(n,t,e){},21:function(n,t,e){"use strict";e.r(t);var c=e(0),o=e(1),r=e.n(o),i=e(9),u=e.n(i),a=(e(18),e(2)),s=e(4),d=e(3);function l(){var n=Object(a.a)(["\n  max-width: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  min-height: ","px;\n  background-color: #c8cad5;\n"]);return l=function(){return n},n}function f(){var n=Object(a.a)(["\n  max-width: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  min-height: ","px;\n  background-color: #1c1c24;\n  border-radius: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return n},n}function h(){var n=Object(a.a)([""]);return h=function(){return n},n}var j=240,b=160;var x,p=function(n){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(n.ws)n.ws.onmessage=function(n){if(t&&t.current){var e=new Blob([n.data],{type:"image/jpeg"}),c=document.createElement("img"),o=(window.URL||window.webkitURL).createObjectURL(e),r=t.current.getContext("2d");c.onload=function(){null===r||void 0===r||r.drawImage(c,0,0,j,b)},c.src=o}};else if(t.current){var e=t.current.getContext("2d");e&&(e.fillStyle="#c8cad5",e.fillRect(0,0,j,b))}}),[t,n.ws]),Object(c.jsx)(v,{children:Object(c.jsx)(w,{children:Object(c.jsx)("canvas",{width:j,height:b,ref:t})})})},v=d.a.div(h()),w=d.a.div(f(),272,272,192,192);d.a.div(l(),j,j,b,b);function O(){var n=Object(a.a)(["\n  background-color: #c8cad5;\n  height: ","px;\n  width: ","px;\n  border-radius: ","px;\n  border: 0;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  top: ",";\n  left: ",";\n\n  span {\n    margin: auto;\n  }\n\n  :active {\n    filter: brightness(85%);\n  }\n"]);return O=function(){return n},n}function g(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: relative;\n"]);return g=function(){return n},n}!function(n){n[n.A=0]="A",n[n.B=1]="B",n[n.select=2]="select",n[n.start=3]="start",n[n.right=4]="right",n[n.left=5]="left",n[n.up=6]="up",n[n.down=7]="down",n[n.R=8]="R",n[n.L=9]="L"}(x||(x={}));var m,y=function(n){var t=function(t,e){return function(){n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}},e=function(t,e){return function(c){c.preventDefault(),n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}};return Object(c.jsxs)(S,{children:[Object(c.jsx)(C,{kind:m.a,onUp:t(x.A,!0),onDown:t(x.A,!1),onTouchDown:e(x.A,!0),onTouchUp:e(x.A,!1)}),Object(c.jsx)(C,{kind:m.b,onUp:t(x.B,!0),onDown:t(x.B,!1),onTouchDown:e(x.B,!0),onTouchUp:e(x.B,!1)})]})},k=40,T=24;!function(n){n.a="A",n.b="B"}(m||(m={}));var S=d.a.div(g(),128,128);function C(n){return Object(c.jsx)(D,{kind:n.kind,onMouseDown:n.onDown,onMouseUp:n.onUp,onTouchStart:n.onTouchDown,onTouchEnd:n.onTouchUp,children:Object(c.jsx)("span",{children:n.kind})})}var D=d.a.div(O(),k,k,k,(function(n){return n.kind===m.a?"".concat(T,"px"):"".concat(64,"px")}),(function(n){return n.kind===m.a?"".concat(64,"px"):"".concat(T,"px")}));function U(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  ","\n  top: ","px;\n"]);return U=function(){return n},n}function M(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  ","\n  left: ","px;\n"]);return M=function(){return n},n}function B(){var n=Object(a.a)(["\n  :active {\n    filter: brightness(85%);\n  }\n"]);return B=function(){return n},n}function L(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n"]);return L=function(){return n},n}function A(){var n=Object(a.a)(["\n  background-color: #c8cad5;\n"]);return A=function(){return n},n}function E(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: relative;\n"]);return E=function(){return n},n}var R=32,W=48;var F=function(n){var t=function(t,e){return function(){n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}},e=function(t,e){return function(c){c.preventDefault(),n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}};return Object(c.jsxs)(I,{children:[Object(c.jsx)(N,{isTop:!0,onMouseUp:t(x.up,!0),onMouseDown:t(x.up,!1),onTouchStart:e(x.up,!1),onTouchEnd:e(x.up,!0)}),Object(c.jsx)(N,{isTop:!1,onMouseUp:t(x.down,!0),onMouseDown:t(x.down,!1),onTouchStart:e(x.down,!1),onTouchEnd:e(x.down,!0)}),Object(c.jsx)(q,{isLeft:!0,onMouseUp:t(x.left,!0),onMouseDown:t(x.left,!1),onTouchStart:e(x.left,!1),onTouchEnd:e(x.left,!0)}),Object(c.jsx)(q,{isLeft:!1,onMouseUp:t(x.right,!0),onMouseDown:t(x.right,!1),onTouchStart:e(x.right,!1),onTouchEnd:e(x.right,!0)}),Object(c.jsx)(P,{})]})},I=d.a.div(E(),128,128),J=d.a.div(A()),P=Object(d.a)(J)(L(),R,R,W,W),G=Object(d.a)(J)(B()),N=Object(d.a)(G)(M(),W,R,(function(n){return n.isTop?"\n      top: O;\n      border-radius: ".concat(8,"px ").concat(8,"px 0 0;\n      "):"\n      bottom: 0;\n      border-radius: 0 0 ".concat(8,"px ").concat(8,"px;\n      ")}),W),q=Object(d.a)(G)(U(),R,W,(function(n){return n.isLeft?"\n        left: O;\n        border-radius:  ".concat(8,"px 0 0 ").concat(8,"px;\n        "):"\n      right: 0;\n      border-radius: 0 ".concat(8,"px ").concat(8,"px 0;\n      ")}),W);function z(){var n=Object(a.a)(["\n  margin-top: 20px;\n  display: flex;\n"]);return z=function(){return n},n}function H(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return H=function(){return n},n}var K=function(n){return Object(c.jsxs)(Q,{children:[Object(c.jsx)(p,{ws:n.screenWs}),Object(c.jsxs)(V,{children:[Object(c.jsx)(F,{ws:n.inputWs}),Object(c.jsx)(y,{ws:n.inputWs})]})]})},Q=d.a.div(H()),V=d.a.div(z());function X(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return X=function(){return n},n}var Y=function(n){return Object(c.jsx)(Z,{children:Object(c.jsx)(p,{ws:n.ws})})},Z=d.a.div(X());function $(){var n=Object(a.a)(["\n  margin: 8px;\n"]);return $=function(){return n},n}function _(){var n=Object(a.a)(["\n  margin: 32px;\n"]);return _=function(){return n},n}var nn,tn=function(n){var t=Object(o.useState)("206.189.62.12:8100"),e=Object(s.a)(t,2),r=e[0],i=e[1],u=function(n,t){var e=new WebSocket("ws://".concat(n));return e.binaryType="arraybuffer",e.onopen=function(){console.log("Conn open"),e.send(t)},e.onerror=function(n){console.log(n)},e.onclose=function(){console.log("Conn closed")},e};return Object(c.jsxs)(en,{children:[Object(c.jsx)(cn,{type:"text",value:r,onChange:function(n){return i(n.target.value)}}),Object(c.jsx)("button",{onClick:function(){return function(t){var e=null,c=null;"screen"!==n.type&&"both"!==n.type||(e=u(t,"screen")),"input"!==n.type&&"both"!==n.type||(c=u(t,"input")),n.onConnection(e,c)}(r)},children:"Connect"})]})},en=d.a.div(_()),cn=d.a.input($());function on(){var n=Object(a.a)(["\n  text-align: center;\n  width: 160px;\n  background-color: #423c6c;\n  margin: 1rem;\n  padding: 0.5rem 2rem;\n  border-radius: 16px;\n  color: #bbbdcb;\n  cursor: pointer;\n"]);return on=function(){return n},n}function rn(){var n=Object(a.a)(["\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  background-color: ",";\n  margin: auto;\n  ","\n"]);return rn=function(){return n},n}function un(){var n=Object(a.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return un=function(){return n},n}function an(){var n=Object(a.a)([""]);return an=function(){return n},n}!function(n){n[n.choice=0]="choice",n[n.full=1]="full",n[n.screen=2]="screen",n[n.input=3]="input"}(nn||(nn={}));var sn=function(n){var t=function(t){return function(){n.choose(t)}};return Object(c.jsxs)(ln,{children:[Object(c.jsx)(dn,{text:"Screen + gamepad",selected:n.choice===nn.full,onSelect:t(nn.full)}),Object(c.jsx)(dn,{text:"Screen only",selected:n.choice===nn.screen,onSelect:t(nn.screen)}),Object(c.jsx)(dn,{text:"Gamepad only",selected:n.choice===nn.input,onSelect:t(nn.input)})]})};function dn(n){return Object(c.jsxs)(fn,{children:[Object(c.jsx)(hn,{selected:n.selected}),Object(c.jsx)(jn,{onClick:n.onSelect,children:n.text})]})}var ln=d.a.div(an()),fn=d.a.div(un()),hn=d.a.div(rn(),(function(n){return n.selected?"#32b532":"#d0d3db"}),(function(n){return n.selected?"box-shadow: 0 0 16px #32b532;":""})),jn=d.a.div(on());function bn(){var n=Object(a.a)(["\n  margin-top: 20px;\n  display: flex;\n"]);return bn=function(){return n},n}function xn(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return xn=function(){return n},n}var pn=function(n){var t=Object(o.useState)(nn.full),e=Object(s.a)(t,2),r=e[0],i=e[1];return Object(c.jsxs)(vn,{children:[Object(c.jsx)(tn,{onConnection:function(t,e){return n.choose(t,e,r)},type:"both"}),Object(c.jsx)(sn,{choose:function(n){return i(n)},choice:r})]})},vn=d.a.div(xn());d.a.div(bn());function wn(){var n=Object(a.a)(["\n  width: 100vw;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-around;\n"]);return wn=function(){return n},n}function On(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return On=function(){return n},n}var gn=function(n){return Object(c.jsx)(mn,{children:Object(c.jsxs)(yn,{children:[Object(c.jsx)(F,{ws:n.ws}),Object(c.jsx)(y,{ws:n.ws})]})})},mn=d.a.div(On()),yn=d.a.div(wn());function kn(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  background-color: #675ea7;\n"]);return kn=function(){return n},n}var Tn=function(){var n=Object(o.useState)(nn.choice),t=Object(s.a)(n,2),e=t[0],r=t[1],i=Object(o.useState)(null),u=Object(s.a)(i,2),a=u[0],d=u[1],l=Object(o.useState)(null),f=Object(s.a)(l,2),h=f[0],j=f[1],b=null;switch(e){case nn.choice:b=Object(c.jsx)(pn,{choose:function(n,t,e){d(n),j(t),r(e)}});break;case nn.screen:b=Object(c.jsx)(Y,{ws:a});break;case nn.full:b=Object(c.jsx)(K,{inputWs:h,screenWs:a});break;case nn.input:b=Object(c.jsx)(gn,{ws:h})}return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(Sn,{children:b})})},Sn=d.a.div(kn()),Cn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,22)).then((function(t){var e=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;e(n),c(n),o(n),r(n),i(n)}))};u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Tn,{})}),document.getElementById("root")),Cn()}},[[21,1,2]]]);
//# sourceMappingURL=main.2f693962.chunk.js.map