(this["webpackJsonpcloud-gba"]=this["webpackJsonpcloud-gba"]||[]).push([[0],{29:function(n,t,e){},36:function(n,t,e){"use strict";e.r(t);var c=e(1),r=e(0),i=e.n(r),o=e(19),a=e.n(o),u=(e(29),e(2)),s=e(3),j=e(23),d=e(4),l=e(13);function f(){var n=Object(u.a)(["\n  max-width: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  min-height: ","px;\n  background-color: #c8cad5;\n"]);return f=function(){return n},n}function b(){var n=Object(u.a)(["\n  max-width: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  min-height: ","px;\n  background-color: #1c1c24;\n  border-radius: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return b=function(){return n},n}function x(){var n=Object(u.a)([""]);return x=function(){return n},n}var p=240,h=160;var O,v=function(n){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(n.ws)n.ws.onmessage=function(n){if(t&&t.current){var e=new Blob([n.data],{type:"image/jpeg"}),c=document.createElement("img"),r=(window.URL||window.webkitURL).createObjectURL(e),i=t.current.getContext("2d");c.onload=function(){null===i||void 0===i||i.drawImage(c,0,0,p,h)},c.src=r}};else if(t.current){var e=t.current.getContext("2d");e&&(e.fillStyle="#c8cad5",e.fillRect(0,0,p,h))}}),[t,n.ws]),Object(c.jsx)(w,{children:Object(c.jsx)(g,{children:Object(c.jsx)("canvas",{width:p,height:h,ref:t})})})},w=s.a.div(x()),g=s.a.div(b(),272,272,192,192);s.a.div(f(),p,p,h,h);function m(){var n=Object(u.a)(["\n  background-color: #c8cad5;\n  height: ","px;\n  width: ","px;\n  border-radius: ","px;\n  border: 0;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  top: ",";\n  left: ",";\n\n  span {\n    margin: auto;\n  }\n\n  :active {\n    filter: brightness(85%);\n  }\n"]);return m=function(){return n},n}function y(){var n=Object(u.a)(["\n  height: ","px;\n  width: ","px;\n  position: relative;\n"]);return y=function(){return n},n}!function(n){n[n.A=0]="A",n[n.B=1]="B",n[n.select=2]="select",n[n.start=3]="start",n[n.right=4]="right",n[n.left=5]="left",n[n.up=6]="up",n[n.down=7]="down",n[n.R=8]="R",n[n.L=9]="L"}(O||(O={}));var k,C=function(n){var t=function(t,e){return function(){n.ws&&(e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)))}};return Object(c.jsxs)(L,{children:[Object(c.jsx)(D,{kind:k.a,onUp:t(O.A,!0),onDown:t(O.A,!1)}),Object(c.jsx)(D,{kind:k.b,onUp:t(O.B,!0),onDown:t(O.B,!1)})]})},M=40,U=24;!function(n){n.a="A",n.b="B"}(k||(k={}));var L=s.a.div(y(),128,128);function D(n){return Object(c.jsx)(B,{kind:n.kind,onMouseDown:n.onDown,onMouseUp:n.onUp,children:Object(c.jsx)("span",{children:n.kind})})}var B=s.a.button(m(),M,M,M,(function(n){return n.kind===k.a?"".concat(U,"px"):"".concat(64,"px")}),(function(n){return n.kind===k.a?"".concat(64,"px"):"".concat(U,"px")}));function R(){var n=Object(u.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  ","\n  top: ","px;\n"]);return R=function(){return n},n}function S(){var n=Object(u.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  ","\n  left: ","px;\n"]);return S=function(){return n},n}function A(){var n=Object(u.a)(["\n  :active {\n    filter: brightness(85%);\n  }\n"]);return A=function(){return n},n}function T(){var n=Object(u.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n"]);return T=function(){return n},n}function F(){var n=Object(u.a)(["\n  background-color: #c8cad5;\n"]);return F=function(){return n},n}function E(){var n=Object(u.a)(["\n  height: ","px;\n  width: ","px;\n  position: relative;\n"]);return E=function(){return n},n}var I=32,J=48;var P=function(n){var t=function(t,e){return function(){n.ws&&(e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)))}};return Object(c.jsxs)(N,{children:[Object(c.jsx)(G,{isTop:!0,onMouseUp:t(O.up,!0),onMouseDown:t(O.up,!1)}),Object(c.jsx)(G,{isTop:!1,onMouseUp:t(O.down,!0),onMouseDown:t(O.down,!1)}),Object(c.jsx)(H,{isLeft:!0,onMouseUp:t(O.left,!0),onMouseDown:t(O.left,!1)}),Object(c.jsx)(H,{isLeft:!1,onMouseUp:t(O.right,!0),onMouseDown:t(O.right,!1)}),Object(c.jsx)(q,{})]})},N=s.a.div(E(),128,128),W=s.a.div(F()),q=Object(s.a)(W)(T(),I,I,J,J),z=Object(s.a)(W)(A()),G=Object(s.a)(z)(S(),J,I,(function(n){return n.isTop?"\n      top: O;\n      border-radius: ".concat(8,"px ").concat(8,"px 0 0;\n      "):"\n      bottom: 0;\n      border-radius: 0 0 ".concat(8,"px ").concat(8,"px;\n      ")}),J),H=Object(s.a)(z)(R(),I,J,(function(n){return n.isLeft?"\n        left: O;\n        border-radius:  ".concat(8,"px 0 0 ").concat(8,"px;\n        "):"\n      right: 0;\n      border-radius: 0 ".concat(8,"px ").concat(8,"px 0;\n      ")}),J);function K(){var n=Object(u.a)(["\n  margin: 32px;\n"]);return K=function(){return n},n}var Q=function(n){var t=Object(r.useState)("127.0.0.1:8100"),e=Object(l.a)(t,2),i=e[0],o=e[1];return Object(c.jsxs)(V,{children:[Object(c.jsx)("input",{type:"text",value:i,onChange:function(n){return o(n.target.value)}}),Object(c.jsx)("button",{onClick:function(){return function(t){var e=new WebSocket("ws://".concat(t));e.binaryType="arraybuffer",e.onopen=function(){console.log("Conn open"),e.send(n.type)},e.onerror=function(n){console.log(n)},e.onclose=function(){console.log("Conn closed")},n.onConnection(e)}(i)},children:"Connect"})]})},V=s.a.div(K());function X(){var n=Object(u.a)(["\n  margin-top: 20px;\n  display: flex;\n"]);return X=function(){return n},n}function Y(){var n=Object(u.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Y=function(){return n},n}var Z=function(){var n=Object(r.useState)(null),t=Object(l.a)(n,2),e=t[0],i=t[1],o=Object(r.useState)(null),a=Object(l.a)(o,2),u=a[0],s=a[1];return Object(c.jsxs)($,{children:[Object(c.jsx)(Q,{onConnection:function(n){return i(n)},type:"screen"}),Object(c.jsx)(Q,{onConnection:function(n){return s(n)},type:"input"}),Object(c.jsx)(v,{ws:e}),Object(c.jsxs)(_,{children:[Object(c.jsx)(P,{ws:u}),Object(c.jsx)(C,{ws:u})]})]})},$=s.a.div(Y()),_=s.a.div(X());function nn(){var n=Object(u.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return nn=function(){return n},n}var tn=function(){return Object(c.jsx)(en,{children:Object(c.jsx)(v,{ws:null})})},en=s.a.div(nn());function cn(){var n=Object(u.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  background-color: #675ea7;\n"]);return cn=function(){return n},n}var rn="cloud-gba";var on=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(an,{children:Object(c.jsx)(j.a,{children:Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{path:"/full",children:Object(c.jsx)(Z,{})}),Object(c.jsx)(d.a,{path:"".concat(rn,"/full"),children:Object(c.jsx)(Z,{})}),Object(c.jsx)(d.a,{path:"/screen",children:Object(c.jsx)(tn,{})}),Object(c.jsx)(d.a,{path:"".concat(rn,"/screen"),children:Object(c.jsx)(tn,{})}),Object(c.jsx)(d.a,{path:"/",children:Object(c.jsx)(Z,{})})]})})})})},an=s.a.div(cn()),un=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,37)).then((function(t){var e=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),c(n),r(n),i(n),o(n)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(on,{})}),document.getElementById("root")),un()}},[[36,1,2]]]);
//# sourceMappingURL=main.c3836bc7.chunk.js.map