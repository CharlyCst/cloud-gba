(this["webpackJsonpcloud-gba"]=this["webpackJsonpcloud-gba"]||[]).push([[0],{18:function(n,t,e){},21:function(n,t,e){"use strict";e.r(t);var c=e(1),o=e(0),r=e.n(o),i=e(9),u=e.n(i),a=(e(18),e(2)),s=e(4),d=e(3);function l(){var n=Object(a.a)(["\n  max-width: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  min-height: ","px;\n  background-color: #c8cad5;\n"]);return l=function(){return n},n}function f(){var n=Object(a.a)(["\n  max-width: ","px;\n  min-width: ","px;\n  max-height: ","px;\n  min-height: ","px;\n  background-color: #1c1c24;\n  border-radius: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return n},n}function h(){var n=Object(a.a)([""]);return h=function(){return n},n}var p=240,j=160;var b,x=function(n){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(n.ws)n.ws.onmessage=function(n){if(t&&t.current){var e=new Blob([n.data],{type:"image/jpeg"}),c=document.createElement("img"),o=(window.URL||window.webkitURL).createObjectURL(e),r=t.current.getContext("2d");c.onload=function(){null===r||void 0===r||r.drawImage(c,0,0,p,j)},c.src=o}};else if(t.current){var e=t.current.getContext("2d");e&&(e.fillStyle="#c8cad5",e.fillRect(0,0,p,j))}}),[t,n.ws]),Object(c.jsx)(v,{children:Object(c.jsx)(w,{children:Object(c.jsx)("canvas",{width:p,height:j,ref:t})})})},v=d.a.div(h()),w=d.a.div(f(),272,272,192,192);d.a.div(l(),p,p,j,j);function O(){var n=Object(a.a)(["\n  background-color: #c8cad5;\n  height: ","px;\n  width: ","px;\n  border-radius: ","px;\n  border: 0;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  top: ",";\n  left: ",";\n\n  span {\n    margin: auto;\n  }\n\n  :active {\n    filter: brightness(85%);\n  }\n"]);return O=function(){return n},n}function g(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: relative;\n"]);return g=function(){return n},n}!function(n){n[n.A=0]="A",n[n.B=1]="B",n[n.select=2]="select",n[n.start=3]="start",n[n.right=4]="right",n[n.left=5]="left",n[n.up=6]="up",n[n.down=7]="down",n[n.R=8]="R",n[n.L=9]="L"}(b||(b={}));var m,y=function(n){var t=function(t,e){return function(){n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}},e=function(t,e){return function(c){c.preventDefault(),n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}};return Object(c.jsxs)(C,{children:[Object(c.jsx)(D,{kind:m.a,onUp:t(b.A,!0),onDown:t(b.A,!1),onTouchDown:e(b.A,!0),onTouchUp:e(b.A,!1)}),Object(c.jsx)(D,{kind:m.b,onUp:t(b.B,!0),onDown:t(b.B,!1),onTouchDown:e(b.B,!0),onTouchUp:e(b.B,!1)})]})},T=40,k=24;!function(n){n.a="A",n.b="B"}(m||(m={}));var C=d.a.div(g(),128,128);function D(n){return Object(c.jsx)(S,{kind:n.kind,onMouseDown:n.onDown,onMouseUp:n.onUp,onTouchStart:n.onTouchDown,onTouchEnd:n.onTouchUp,children:Object(c.jsx)("span",{children:n.kind})})}var S=d.a.div(O(),T,T,T,(function(n){return n.kind===m.a?"".concat(k,"px"):"".concat(64,"px")}),(function(n){return n.kind===m.a?"".concat(64,"px"):"".concat(k,"px")}));function U(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  ","\n  top: ","px;\n"]);return U=function(){return n},n}function M(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  ","\n  left: ","px;\n"]);return M=function(){return n},n}function B(){var n=Object(a.a)(["\n  :active {\n    filter: brightness(85%);\n  }\n"]);return B=function(){return n},n}function L(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n"]);return L=function(){return n},n}function A(){var n=Object(a.a)(["\n  background-color: #c8cad5;\n"]);return A=function(){return n},n}function E(){var n=Object(a.a)(["\n  height: ","px;\n  width: ","px;\n  position: relative;\n"]);return E=function(){return n},n}var R=32,W=48;var F=function(n){var t=function(t,e){return function(){n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}},e=function(t,e){return function(c){c.preventDefault(),n.ws?e?n.ws.send("0".concat(t)):n.ws.send("1".concat(t)):console.log("Connection closed: can't send event")}};return Object(c.jsxs)(I,{children:[Object(c.jsx)(q,{isTop:!0,onMouseUp:t(b.up,!0),onMouseDown:t(b.up,!1),onTouchStart:e(b.up,!1),onTouchEnd:e(b.up,!0)}),Object(c.jsx)(q,{isTop:!1,onMouseUp:t(b.down,!0),onMouseDown:t(b.down,!1),onTouchStart:e(b.down,!1),onTouchEnd:e(b.down,!0)}),Object(c.jsx)(z,{isLeft:!0,onMouseUp:t(b.left,!0),onMouseDown:t(b.left,!1),onTouchStart:e(b.left,!1),onTouchEnd:e(b.left,!0)}),Object(c.jsx)(z,{isLeft:!1,onMouseUp:t(b.right,!0),onMouseDown:t(b.right,!1),onTouchStart:e(b.right,!1),onTouchEnd:e(b.right,!0)}),Object(c.jsx)(P,{})]})},I=d.a.div(E(),128,128),J=d.a.div(A()),P=Object(d.a)(J)(L(),R,R,W,W),N=Object(d.a)(J)(B()),q=Object(d.a)(N)(M(),W,R,(function(n){return n.isTop?"\n      top: O;\n      border-radius: ".concat(8,"px ").concat(8,"px 0 0;\n      "):"\n      bottom: 0;\n      border-radius: 0 0 ".concat(8,"px ").concat(8,"px;\n      ")}),W),z=Object(d.a)(N)(U(),R,W,(function(n){return n.isLeft?"\n        left: O;\n        border-radius:  ".concat(8,"px 0 0 ").concat(8,"px;\n        "):"\n      right: 0;\n      border-radius: 0 ".concat(8,"px ").concat(8,"px 0;\n      ")}),W);function G(){var n=Object(a.a)(["\n  margin-top: 20px;\n  display: flex;\n"]);return G=function(){return n},n}function H(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return H=function(){return n},n}var K=function(n){return Object(c.jsxs)(Q,{children:[Object(c.jsx)(x,{ws:n.screenWs}),Object(c.jsxs)(V,{children:[Object(c.jsx)(F,{ws:n.inputWs}),Object(c.jsx)(y,{ws:n.inputWs})]})]})},Q=d.a.div(H()),V=d.a.div(G());function X(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return X=function(){return n},n}var Y=function(){return Object(c.jsx)(Z,{children:Object(c.jsx)(x,{ws:null})})},Z=d.a.div(X());function $(){var n=Object(a.a)(["\n  margin: 32px;\n"]);return $=function(){return n},n}var _,nn=function(n){var t=Object(o.useState)("206.189.62.12:8100"),e=Object(s.a)(t,2),r=e[0],i=e[1],u=function(n,t){var e=new WebSocket("ws://".concat(n));return e.binaryType="arraybuffer",e.onopen=function(){console.log("Conn open"),e.send(t)},e.onerror=function(n){console.log(n)},e.onclose=function(){console.log("Conn closed")},e};return Object(c.jsxs)(tn,{children:[Object(c.jsx)("input",{type:"text",value:r,onChange:function(n){return i(n.target.value)}}),Object(c.jsx)("button",{onClick:function(){return function(t){var e=null,c=null;"screen"!==n.type&&"both"!==n.type||(e=u(t,"screen")),"input"!==n.type&&"both"!==n.type||(c=u(t,"input")),n.onConnection(e,c)}(r)},children:"Connect"})]})},tn=d.a.div($());function en(){var n=Object(a.a)(["\n  margin-top: 20px;\n  display: flex;\n"]);return en=function(){return n},n}function cn(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return cn=function(){return n},n}!function(n){n[n.choice=0]="choice",n[n.full=1]="full",n[n.screen=2]="screen"}(_||(_={}));var on=function(n){var t=Object(o.useState)(_.full),e=Object(s.a)(t,2);return e[0],e[1],Object(c.jsx)(rn,{children:Object(c.jsx)(nn,{onConnection:function(t,e){return n.choose(t,e,_.full)},type:"both"})})},rn=d.a.div(cn());d.a.div(en());function un(){var n=Object(a.a)(["\n  min-height: 100vh;\n  max-height: 100vh;\n  min-width: 100vw;\n  max-width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  background-color: #675ea7;\n"]);return un=function(){return n},n}var an=function(){var n=Object(o.useState)(_.choice),t=Object(s.a)(n,2),e=t[0],r=t[1],i=Object(o.useState)(null),u=Object(s.a)(i,2),a=u[0],d=u[1],l=Object(o.useState)(null),f=Object(s.a)(l,2),h=f[0],p=f[1],j=null;switch(e){case _.choice:j=Object(c.jsx)(on,{choose:function(n,t,e){d(n),p(t),r(e)}});break;case _.screen:j=Object(c.jsx)(Y,{});break;case _.full:j=Object(c.jsx)(K,{inputWs:h,screenWs:a})}return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(sn,{children:j})})},sn=d.a.div(un()),dn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,22)).then((function(t){var e=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;e(n),c(n),o(n),r(n),i(n)}))};u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(an,{})}),document.getElementById("root")),dn()}},[[21,1,2]]]);
//# sourceMappingURL=main.9b646511.chunk.js.map